<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <script src= "service-worker.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112760702-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-112760702-1');
</script>
<script src="/__/firebase/5.5.6/firebase-app.js"></script>
<script src="/__/firebase/5.5.6/firebase-auth.js"></script>
<script src="/__/firebase/5.5.6/firebase-database.js"></script>
  </head>


  <body>
    <title>GearScout 2.0</title>
    <form>
      <center><h1 id="control-2498188">GearScout 2.0</h1></center>
      <div class="row">
        <div class="input-field col s12">
          <input id="yourname" type="text" class="validate">
          <label for="yourname">Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="match" type="text" class="validate">
          <label for="match">Match</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="yourteam" type="text" class="validate">
          <label for="yourteam">Team You Are In</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="scoutteam" type="text" class="validate">
          <label for="scoutteam">Team You Are Scouting</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="regional" type="text" class="validate">
          <label for="regional">Regional Code</label>
        </div>
      </div>
      <center><h2>Auto</h2></center>
        <center><p>
          <label>
            <input type="checkbox" class="filled-in"   value;="line" id="auto-0">
            <span>Line Crossed</span>
          </label>
        </center></p>
        <center><p>
          <label>
            <input type="checkbox" class="filled-in"   value;="block-auto" id="auto-1">
            <span>Block Placed On Switch</span>
          </label>
        </center></p>
        <center><p>
          <label>
            <input type="checkbox" class="filled-in"   value;="block2-auto" id="auto-3">
            <span>Block Placed On Scale</span>
          </label>
        </center></p>
        <center><p>
          <label>
            <input type="checkbox" class="filled-in"   value;="penalty-auto" id="auto-2">
            <span>Penalty</span>
          </label>
        </center></p>
      <center><h2>TeleOp</h2></center>
      <center><p>
        <label>
          <input type="checkbox" class="filled-in"   value;="forklift" id="teleop-0">
          <span>Forklift</span>
        </label>
      </center></p>
      <center><p>
        <label>
          <input type="checkbox" class="filled-in"   value;="defense" id="teleop-1">
          <span>Defense</span>
        </label>
      </center></p>
      <div class="row">
        <div class="input-field col s12">
          <input id="pcubes" type="text" class="validate">
          <label for="pcubes">Portal Power Cubes</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="faswitch" type="text" class="validate">
          <label for="faswitch">Cubes In Friendly Alliance Switch</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="scale" type="text" class="validate">
          <label for="scale">Cubes In Scale</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="opswitch" type="text" class="validate">
          <label for="opswitch">Cubes In Opposing Alliance Switch</label>
        </div>
      </div>
      <center><h2>End Game</h2></center>
    <center><p>
      <label>
        <input type="checkbox" class="filled-in"   value;="rampbot" id="end-0">
        <span>Ramp Bot</span>
      </label>
    </center></p>
    <center><p>
      <label>
        <input type="checkbox" class="filled-in"   value;="park" id="end-1">
        <span>Parked</span>
      </label>
    </center></p>
    <center><p>
      <label>
        <input type="checkbox" class="filled-in"   value;="levitate" id="end-2">
        <span>Levitate</span>
      </label>
    </center></p>
    <center><p>
      <label>
        <input type="checkbox" class="filled-in"   value;="climbed" id="end-3">
        <span>Climbed</span>
      </label>
    </center></p>
    <center><p>
      <label>
        <input type="checkbox" class="filled-in"   value;="disabled" id="end-4">
        <span>Disabled</span>
      </label>
    </center></p>
<center>
<center>
  <button class="btn waves-effect waves-light" type="submit" name="action">Submit
    <i class="material-icons right">send</i>
  </button>
</center>

    </form>
    <script>
    document.body.className += ' fade-out';
    </script>
    <script>
    $(function() {
        $('body').removeClass('fade-out');
    });
    </script>
    <script>
    var submit2 = document.getElementById('submit');


    var config = {
        apiKey: "AIzaSyAGjIhyS5eGmUvZysE46CuWFjeX0T-ykWA",
        authDomain: "scoutgear-2018.firebaseapp.com",
        databaseURL: "https://scoutgear-2018.firebaseio.com",
        projectId: "scoutgear-2018",
        storageBucket: "scoutgear-2018.appspot.com",
        messagingSenderId: "269363065314"
    };
    firebase.initializeApp(config);
    var database = firebase.database();
    submit2.onclick = function writeUserData() {
        /*  firebase.post("/gearscout2018", JSON ) */
        var yourname = document.getElementById("yourname").value;
        var regional = document.getElementById("regional").value;
        var scoutteam = document.getElementById("scoutteam").value;;
        var lineCrossed = document.getElementById("auto-0").value;;
        var switchblockauto = document.getElementById("auto-1").value;;
        var penaltyauto = document.getElementById("auto-2").value;;
        var scaleblockauto = document.getElementById("auto-3").value;;
        var forklift = document.getElementById("teleop-0").value;;
        var defense = document.getElementById("teleop-1").value;;
        var portal = document.getElementById("pcubes").value;;
        var allianceswitch = document.getElementById("faswitch").value;;
        var scale = document.getElementById("scale").value;;
        var opponentswitch = document.getElementById("opswitch").value;;
        var rampbot = document.getElementById("end-0").value;;
        var park = document.getElementById("end-1").value;;
        var levitate = document.getElementById("end-2").value;;
        var climbed = document.getElementById("end-3").value;;
        var disabled = document.getElementById("end-4").value;;
        var yourteam = document.getElementById("yourteam").value;;
        var match = document.getElementById("match").value;;

        if (yourname === null) {
            yourname = " ";
        }
        if (regional === null) {
            regional = "a_trash";
        }
        if (scoutteam === null) {
            scoutteam = 0;
        }
        if (lineCrossed === null) {
            lineCrossed == false;
        }
        if (switchblockauto === null) {
            switchblockauto == false;
        }
        if (penaltyauto === null) {
            penaltyauto == false;
        }
        if (scaleblockauto === null) {
            scaleblockauto == false;
        }
        if (forklift === null) {
            forklift == false;
        }
        if (defense === null) {
            defense == false;
        }
        if (portal === null) {
            portal = 0;
        }
        if (allianceswitch === null) {
            allianceswitch = 0;
        }
        if (scale === null) {
            scale = 0;
        }
        if (opponentswitch === null) {
            opponentswitch = 0;
        }
        if (rampbot === null) {
            rampbot == false;
        }
        if (park === null) {
            park == false;
        }
        if (levitate === null) {
            levitate == false;
        }
        if (climbed === null) {
            climbed == false;
        }
        if (disabled === null) {
            disabled == false;
        }
        if (yourteam === null) {
            yourteam == 2338;
        }
        if (match === null) {
            match = "a_trash";
        }



        var sender1 = "GearScout2018:{2338:{" + scoutteam + ": {" + match + ":{ yourname:" + yourname +
            ",regional:" + regional + ",scoutteam:" + scoutteam + ",lineCrossed:" + lineCrossed +
            ",switchblockauto:" + switchblockauto + ",penaltyauto:" + penaltyauto + ",scaleblockauto:" +
            scaleblockauto + ",forklift:" + forklift + ",defense:" + defense + ",portal:" + portal +
            ",allianceswitch:" + allianceswitch + ",scale:" + scale + ",opponentswitch:" + opponentswitch +
            ",rampbot:" + rampbot + ",park:" + park + ",levitate:" + levitate + ",climbed:" + climbed +
            ",disabled:" + disabled + ",yourteam:" + yourteam + ",match:" + match + "}}}}";

        var sender = {
            "Gearscout-2018": {
                "yourname": yourname,
                "regional": regional,
                "scoutteam": scoutteam,
                "lineCrossed": lineCrossed,
                "switchblockauto": switchblockauto,
                "penaltyauto": penaltyauto,
                "scaleblockauto": scaleblockauto,
                "forklift": forklift,
                "defense": defense,
                "portal": portal,
                "allianceswitch": allianceswitch,
                "scale": scale,
                "opponentswitch": opponentswitch,
                "rampbot": rampbot,
                "park": park,
                "levitate": levitate,
                "climbed": climbed,
                "disabled": disabled,
                "yourteam": yourteam,
                "match": match
            }
        };





        //console.log(JSON.parse(sender1));
        console.log(sender);

        firebase.database().ref('scouttgear-2018/' + scoutteam + "/" + match).set(sender, function (error) {
            if (error) {
                window.alert(error);
            }
        });
    }
</script>
    <script type="text/javascript" src="js/materialize.js"></script>
  </body>
</html>
